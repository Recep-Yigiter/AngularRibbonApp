<div style="position: fixed;margin-left: 4px;">
    <div id="window" class="window" style="height: 300px; width:calc(100vw - 10px); min-height:calc(100vh - 176px); ">
        <div id="draggable-header" class="top-bar">
            <div class="title">Stok Kart </div>
            <div class="toolbar">
                <button class="item" name="close">
                    <i class="fa fa-close"></i>
                </button>
            </div>
        </div>
        <div id="draggable-header" class="top-bar"
            style="border: none; background-color: transparent;margin-bottom: 0;">
            <div class="title" style="background: linear-gradient(to bottom, #ffffff 0%, #bbbbbb 100%); width: 100%; ">
                <div class="ribbon-section" style="height: 36px;">
                    <div (click)="addOpenDialog()" class="ribbon-button ribbon-button-large" id="add-table-btn" unselectable="on"
                        style="height: 36px;">
                        <img style="width: 30px; height: 30px; " class="ribbon-icon ribbon-normal"
                            src=" ../../assets/icons/actions/folder_add.png">
                        <img style="width: 30px; height: 30px;" class="ribbon-icon ribbon-hot"
                            src=" ../../assets/icons/actions/folder_add.png">
                        <img style="width: 30px; height: 30px;" class="ribbon-icon ribbon-disabled"
                            src=" ../../assets/icons/actions/folder_add.png">

                    </div>

                </div>
                <div class="ribbon-section" style="height: 36px;">
                    <div class="ribbon-button ribbon-button-large" id="add-table-btn" unselectable="on"
                        style="height: 36px;">
                        <img style="width: 30px; height: 30px; " class="ribbon-icon ribbon-normal"
                            src=" ../../assets/icons/actions/folder_down.png">
                        <img style="width: 30px; height: 30px;" class="ribbon-icon ribbon-hot"
                            src=" ../../assets/icons/actions/folder_down.png">
                        <img style="width: 30px; height: 30px;" class="ribbon-icon ribbon-disabled"
                            src=" ../../assets/icons/actions/folder_down.png">

                    </div>

                </div>
                <div class="ribbon-section" style="height: 36px;">
                    <div class="ribbon-button ribbon-button-large" id="add-table-btn" unselectable="on"
                        style="height: 36px;">
                        <img style="width: 30px; height: 30px; " class="ribbon-icon ribbon-normal"
                            src=" ../../assets/icons/actions/close.png">
                        <img style="width: 30px; height: 30px;" class="ribbon-icon ribbon-hot"
                            src=" ../../assets/icons/actions/close.png">
                        <img style="width: 30px; height: 30px;" class="ribbon-icon ribbon-disabled"
                            src=" ../../assets/icons/actions/close.png">

                    </div>

                </div>




            </div>

        </div>
        <div class="content" style="overflow-x: scroll;">







            <div class="tree-content" >
                <mat-tree [dataSource]="treeSource" [treeControl]="treeControl" [trackBy]="trackBy"
                    style="margin-top: 20px;">

                    <mat-tree-node *matTreeNodeDef="let node" matTreeNodeToggle
                        (contextmenu)="onContextMenu($event, node)" (contextmenu)="activeNode = node"
                        [ngClass]="{ 'background-highlight': activeNode === node }" (click)="activeNode = node"
                        [ngClass]="{ 'background-highlight': activeNode === node }">

                        <li class="mat-tree-node">
                            <button mat-icon-button disabled></button>
                            <img *ngIf="node.parentId!=null" width="25px" height="25px" class="mr-2"
                                src="../../assets/icons/actions/compare_documents.png" alt="">
                            <img *ngIf="node.parentId==null " width="25px" height="25px" class="mr-2"
                            src="../../assets/icons/actions/compare_documents.png" alt="">
                            {{node.name}}

                        </li>


                    </mat-tree-node>

                    <mat-nested-tree-node *matTreeNodeDef="let node; when: hasChild"
                        (contextmenu)="onContextMenu($event, node)" (contextmenu)="activeNode = node">
                        <li class="mat-tree-node" [ngClass]="{ 'background-highlight': activeNode === node }"
                            (click)="activeNode = node" [ngClass]="{ 'background-highlight': activeNode === node }">
                            <div class="mat-tree-node">
                                <button  mat-icon-button matTreeNodeToggle [attr.aria-label]="'toggle ' + node.name">
                                    <mat-icon class="mat-icon-rtl-mirror">
                                      <!--   {{treeControl.isExpanded(node) ? 'expand_more' : 'chevron_right'}}-->
                                        {{treeControl.isExpanded(node) ? 'remove' : 'add'}}
                                    </mat-icon> 

                                    <!-- <div class="{{treeControl.isExpanded(node) ? 'toggle-children2' : 'toggle-children'}}"></div> -->
                                </button>
                                <img *ngIf="node.parentId!=null" width="25px" height="25px" class="mr-2"
                                    src="../../assets/icons/actions/folder.png" alt="">
                                <img *ngIf="node.parentId==null " width="25px" height="25px"
                                    src="../../assets/icons/actions/folder.png" class="mr-2" alt="">{{node.name}}
                            </div>
                        </li>
                        <ul [class.children-invisible]="!treeControl.isExpanded(node)">
                            <ng-container matTreeNodeOutlet></ng-container>
                        </ul>
                    </mat-nested-tree-node>
                </mat-tree>
            </div>

            <div style="flex: 1;  ">
                <div class="tree-detay-content" >
                    <common-input label="Stok Kodu" [formControlNames]="stokKod"></common-input>
                     <common-input label="Stok Kısa Ad" [formControlNames]="stokKisaAd"></common-input>
                    <common-input label="Stok Türü" [formControlNames]="stokTuru"></common-input>
                    <common-input label="Alıs KDV Oranı" [formControlNames]="alisKdvOrani"></common-input>
                    <common-input label="Satıs KDV Oranı" [formControlNames]="satisKdvOrani"></common-input> 
                   
                
                </div>
            </div>

        </div>


        <div class="footer">
            <div class="content">
                footer
            </div>
            <div id="draggable-resize" class="resize"></div>
        </div>
    </div>

</div>



<div style="visibility: hidden; position: fixed" [style.left]="contextMenuPosition.x"
    [style.top]="contextMenuPosition.y" [matMenuTriggerFor]="contextMenu">
</div>
<mat-menu #contextMenu="matMenu">
    <ng-template matMenuContent let-item="item">
        <button mat-menu-item (click)="addOpenDialog(item)">
            <img width="25px" height="25px" src="../../assets/icons/actions/folder.png" alt=""
                style="margin-right:15px;">
            <span>Ekle</span>
        </button>

        <button mat-menu-item (click)="sil(item)">
            <img width="25px" height="25px" src="../../assets/icons/actions/compare_documents.png" alt=""
                style="margin-right:15px;">
            <span>Sil</span>
        </button>
    </ng-template>
</mat-menu>

<mat-menu>
    <button mat-menu-item>
        <mat-icon>dialpad</mat-icon>
        <span>Redial</span>
    </button>
    <button mat-menu-item disabled>
        <mat-icon>voicemail</mat-icon>
        <span>Check voice mail</span>
    </button>
    <button mat-menu-item>
        <mat-icon>notifications_off</mat-icon>
        <span>Disable alerts</span>
    </button>
</mat-menu>